<head>
<style type="text/css">
.olddw {
  border: 1px solid green ;
  font: 14px arial ;
  background-color: #DBEAB3 ;
  max-width: 1200px ;
}
.warning {
  border: 1px solid red ;
  background-color: #FDF5C6 ;
}
p {
  margin: 5 px ;
}
hr {
  border: 2px solid black;
}
</style>
</head>
<body>
<div class="olddw">
<div dir="ltr" style="margin-left: 25px;">
  <br>
  <div class="warning" ><div style="margin-left: 28px;">
    <p>  &nbsp;<img src="iconWarning.gif"> &nbsp; This is re-hosted content that originally appeared in my IBM developerWorks Connections blog.  The content
        is unchanged except for link cleanups.  No comments were moved.<br>
        Many of these re-hosted pages are obsolete.
    </p><p>  I have remarks concerning the usefulness of this page and its re-hosted brethren
        in the <a href="TOC.html">Table of Contents</a> for this archive.  Some pages have suggested replacement links.
    </p>
  </div></div>
<p><span style="font: 22px arial, sans-serif; color: blue">
  Roger Powell (IBM)
  </span></p>
  <span style="font: bold 20px arial, sans-serif; color: black">
    The "itnm_status" command doesn't show the syslog probe
  <br></span>

  <span style="font: 12px arial; color: black">
    Published: January 9th, 2013
  </span>
<!-- End of standard start plate -->
<div dir="ltr">The<span style="font-weight: bold;"> itnm_status</span> command is certainly handy - So handy, in fact, that even on distributed ITNM installs I will put it on systems that have only OMNIbus components (i.e. only nco_pad running, no ncp_ctrl and no TIP)</div>

<div dir="ltr">&nbsp;</div>

<div dir="ltr">I much prefer just typing &quot;itnm_status&quot; and seeing what&#39;s running vs &quot;nco_pa_status&quot; and having to deal with authentication.<br />
<br />
So imagine my annoyance when I found that it wasn&#39;t displaying the status of the syslog probe in my latest ITNM deployment.&nbsp; (OK actually, it was the &quot;syslogd&quot; probe - and syslog vs. syslogd is worth another post someday.)&nbsp; At any rate, I traced the misbehavior down to this code in nco_control.sh:</div>

<div dir="ltr">&nbsp;</div>

<div dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for my_pid in $seen;&nbsp; do<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #ticket 248834 APAR - IV01170 Display only ITNM related process<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ $my_pid = &quot;nco_objserv&quot; -o $my_pid = &quot;nco_g_objserv_uni&quot; -o $my_pid = &quot;nco_p_tivoli_eif&quot; -o $my_pid = &quot;nco_p_mttrapd&quot; ]; then<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show_nco_proc_status $my_pid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi</div>

<div dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done</div>

<div dir="ltr">&nbsp;</div>

<div dir="ltr">I have no idea why someone thought it was a bad idea to show the status of&nbsp; processes deemed &quot;unrelated&quot; to ITNM. &nbsp; Seems like a dubious proposition in the first place, as it&#39;s highly likely that if a process is managed by the same PA daemon as the ObjectServer, the SNMP trap probe and so forth, it&#39;s probably &quot;related&quot;. &nbsp; What&#39;s really not debatable is that a syslog probe would certainly be lbe &quot;related&quot;.&nbsp; Here&#39;s how I &quot;fixed&quot; it for the time being:<br />
<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for my_pid in $seen;&nbsp; do<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #ticket 248834 APAR - IV01170 Display only ITNM related process<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ $my_pid = &quot;nco_objserv&quot; -o $my_pid = &quot;nco_g_objserv_uni&quot; -o $my_pid = &quot;nco_p_tivoli_eif&quot; -o $my_pid = &quot;nco_p_mttrapd&quot; \<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -o $my_pid = &quot;nco_p_syslog&quot; -o $my_pid = &quot;nco_p_syslogd&quot; \<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]; then<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show_nco_proc_status $my_pid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; done</div>

<div dir="ltr">&nbsp;</div>

<div dir="ltr">This begs the question about other possibly &quot;related&quot; processes (e.g. nco_g_objserv_bi&quot; in a fail-over situation)</div>

<!-- Beginning of standard end plate -->
<hr>
<p>
</p>
</div>
</div>
</body>
